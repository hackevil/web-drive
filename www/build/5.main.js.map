{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"5.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { LoginPage } from './login';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(LoginPage),\r\n  ],\r\n  exports: [\r\n    LoginPage\r\n  ]\r\n})\r\nexport class LoginPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import {Component, ViewChild} from '@angular/core';\r\nimport {IonicPage, NavController, Loading, LoadingController, AlertController, Navbar} from 'ionic-angular';\r\nimport {AuthServiceProvider, Credentials} from \"../../providers/auth-service/auth-service\";\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginPage {\r\n\r\n  @ViewChild(Navbar) navBar: Navbar;\r\n\r\n  private loading: Loading;\r\n  private credentials: Credentials = {email: \"\", password: \"\", remember: false};\r\n\r\n  constructor(public navCtrl: NavController, private auth: AuthServiceProvider,\r\n              private loadingCtrl: LoadingController, private alertCtrl: AlertController) {\r\n  }\r\n\r\n  public login() {\r\n    this.toggleLoading();\r\n    const subscription = this.auth.login(this.credentials).subscribe(result => {\r\n      if (result.success === true) {\r\n        this.loading.dismiss().then(() => {\r\n          subscription.unsubscribe();\r\n          this.navCtrl.setRoot(\"MainPage\");\r\n        });\r\n      } else {\r\n        this.showError();\r\n      }\r\n    });\r\n  }\r\n\r\n  public toggleLoading() {\r\n    this.loading = this.loadingCtrl.create({\r\n      dismissOnPageChange: true,\r\n      content: \"Loading...\"\r\n    });\r\n    this.loading.present();\r\n  }\r\n\r\n  showError() {\r\n    const alert = this.alertCtrl.create({\r\n      title: 'Failed',\r\n      subTitle: 'Please check your credentials',\r\n      buttons: ['ok']\r\n    });\r\n    this.loading.dismiss().then(() => {\r\n      alert.present();\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.navBar.backButtonClick = (e:UIEvent) => {\r\n      this.navCtrl.setRoot(\"WelcomePage\")\r\n    };\r\n    const subscription = this.auth.isAuthenticated().subscribe(hasToken => {\r\n      subscription.unsubscribe();\r\n      if (hasToken === true) {\r\n        this.navCtrl.setRoot(\"MainPage\");\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}